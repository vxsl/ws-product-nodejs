(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0392":function(t,e,a){},"04ac":function(t,e,a){},"0793":function(t,e,a){},"1ae5":function(t,e,a){},"21bb":function(t,e,a){"use strict";a("2dad")},"2dad":function(t,e,a){t.exports={primaryColor:"#3d5aff",secondaryColor:"#6a7fdb",tertiaryColor:"#57e2e5",quaternaryColor:"#45cb85",quinaryColor:"#16302b",dangerColor:"#ff2600",lightColor:"#f3f3f3",darkColor:"#353232",greyColor:"#afafaf",lightGreyColor:"#eee",mediumGreyColor:"#d4d4d4",darkGreyColor:"#6e6e6e",infoColor:"#3f88c5",positiveColor:"#79ca43",insaneColor:"#2e282a"}},"3bfa":function(t,e,a){t.exports={primaryColor:"#3d5aff",secondaryColor:"#6a7fdb",tertiaryColor:"#57e2e5",quaternaryColor:"#45cb85",quinaryColor:"#16302b",dangerColor:"#ff2600",lightColor:"#f3f3f3",darkColor:"#353232",greyColor:"#afafaf",lightGreyColor:"#eee",mediumGreyColor:"#d4d4d4",darkGreyColor:"#6e6e6e",infoColor:"#3f88c5",positiveColor:"#79ca43",insaneColor:"#2e282a"}},"40b9":function(t,e,a){"use strict";a("04ac")},4118:function(t,e,a){"use strict";a("3bfa")},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="4678"},4841:function(t,e,a){"use strict";a("0793")},"4a2c":function(t,e,a){},"4b5b":function(t,e,a){"use strict";a("ef51")},"50fe":function(t,e,a){"use strict";a("525c")},"525c":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("0cdd");var n=a("2b0e"),r=a("5f5b");a("ab8b"),a("2dd8");n["default"].use(r["a"]);var s,i,o,c,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-light",attrs:{id:"app"}},[t.mobile?n("div",{staticClass:"mobile-warning d-flex justify-content-center align-items-center"},[n("img",{attrs:{id:"logo",src:a("c68e")}}),n("span",[t._v("Unfortunately this webapp has not yet been optimized for mobile use. Please visit again on a larger display.")])]):n("div",[n("b-navbar",{staticClass:"padded",attrs:{type:"dark",variant:"dark",id:"nav"}},[n("img",{attrs:{id:"logo",src:a("c68e")}}),n("div",{attrs:{id:"logo-text"}},[n("a",{attrs:{href:"/"}},[t._v("Work Sample")]),n("a",{staticClass:"monospace",attrs:{id:"subtitle",href:"https://github.com/vxsl/ws-product-nodejs"}},[t._v("@vxsl/ws-product-nodejs")])]),n("b-navbar-nav",{staticClass:"ml-auto",attrs:{id:"nav-links"}},[n("b-nav-item",{staticClass:"px-2",attrs:{href:"rate-limit-test"}},[t._v("Rate Limit Testing Module")]),n("b-nav-item",{staticClass:"px-2",attrs:{href:"charts"}},[t._v("Chart Visualizations")]),n("b-nav-item",{staticClass:"px-2",attrs:{href:"table"}},[t._v("Data Tables")]),n("b-nav-item",{staticClass:"px-2",attrs:{href:"geo"}},[t._v("Geo")]),n("b-nav-item",{staticClass:"px-2",attrs:{id:"mail-link",href:"mailto:hi@kylegrimsrudma.nz"}},[n("b-icon-envelope")],1)],1)],1),n("router-view")],1)])},u=[],d={name:"App",computed:{mobile:function(){return screen.width<=760}}},p=d,f=(a("5c0b"),a("2877")),b=Object(f["a"])(p,l,u,!1,null,null,null),h=b.exports,m=a("bc3a"),v=a.n(m),y=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("b-jumbotron",{attrs:{id:"jumbo"}},[a("span",{attrs:{id:"header"}},[t._v("Hello, hiring manager!")]),a("span",{staticClass:"lead"},[t._v(" My name is Kyle Grimsrud-Manz - welcome to my work sample for EQ Works. ")]),a("hr"),a("div",{attrs:{id:"buttons"}},[a("b-button",{staticClass:"btn monospace",attrs:{href:"rate-limit-test"}},[t._v("1. Server-side rate limit testing and visualization")]),a("b-button",{staticClass:"btn monospace",attrs:{href:"charts"}},[t._v("2a(A). Client-side general chart visualizations")]),a("b-button",{staticClass:"btn monospace",attrs:{href:"table"}},[t._v("2a(B). Client-side data table")]),a("b-button",{staticClass:"btn monospace",attrs:{href:"geo"}},[t._v("2a(C). Client-side geo visualizations")])],1),a("hr"),a("a",{attrs:{id:"mail-link",href:"mailto:hi@kylegrimsrudma.nz"}},[a("b-icon-envelope")],1)])],1)},C=[],j={name:"Home"},_=j,x=(a("21bb"),Object(f["a"])(_,g,C,!1,null,null,null)),k=x.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"d-flex align-items-center padded",attrs:{id:"module-header"}},[a("p",[t._v("See the requisite rate limiter in action. The API is currently configured to deny requests exceeding either a) 40 within a period of 20 seconds, or b) 3 within 5 seconds to the same endpoint. To see more rejections, try enabling more endpoints or increasing the request frequency.")])]),a("div",{attrs:{id:"page"}},[a("RateLimitTester",{staticClass:"padded module",attrs:{endpoints:t.endpoints}})],1)],1)},O=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"outer-container"}},[a("b-col",{attrs:{cols:"8"}},[a("div",{attrs:{id:"left-column"}},[a("b-progress",{attrs:{id:"intensity"}},[0==t.selectedEndpoints.length?a("span",{staticClass:"progress-overlay"},[a("strong",[t._v("Please select endpoints to test.")])]):a("div",{staticClass:"progress-overlay",class:t.intensityClass},[a("h1",[t._v(t._s(t.totalRequestsPerTestPeriod))]),a("span",[t._v("total requests per "+t._s(parseInt(t.testPeriod/1e3))+" seconds (approximate)")])]),a("b-progress-bar",{class:t.intensityClass,attrs:{value:t.intensityValue,id:"intensity-bar"}})],1),a("b-card",{staticClass:"d-flex justify-content-center align-items-center",attrs:{id:"table-container"}},[t.paused?a("div",{staticClass:"monospace d-flex justify-content-center align-items-center",attrs:{id:"table-overlay"}},[a("span",{attrs:{id:"test-results"}},[a("strong",[t._v("TEST COMPLETE.")]),t._v(t._s("\n"+t.testResults))])]):t._e(),a("b-table-simple",{staticClass:"monospace",class:t.paused?"break":null,attrs:{fixed:"",small:"",striped:"",hover:"",id:"response-table"}},[a("b-thead",[a("b-tr",{attrs:{id:"table-header"}},[a("b-th",[t._v("URI")]),a("b-th",[t._v("REQS")]),a("b-th",[t._v("RESPONSES")]),a("b-th",[t._v("200 (OK)")]),a("b-th",[t._v("429 (DISCRETE)")]),a("b-th",[t._v("429 (GLOBAL)")])],1)],1),a("b-tbody",t._l(t.activityRecords,(function(e,n){return a("b-tr",{key:n},[a("b-td",[t._v(t._s(n))]),a("b-td",[t._v(t._s(e.reqCount))]),a("b-td",[t._v(t._s(e.resCount))]),a("b-td",[t._v(t._s(t.successString(e)))]),a("b-td",[t._v(t._s(t.rejectionString(e)))]),a("b-td",[t._v(t._s(t.globalRejectionString(e)))])],1)})),1)],1)],1),a("b-progress",{attrs:{id:"test-progress-bar"}},[a("b-progress-bar",{attrs:{value:t.testChronoProgress,label:t.paused?t.breakCountdown+" s until next test":t.testSecondsRemaining}})],1)],1)]),a("b-col",{attrs:{id:"control-box"}},[a("b-card",{attrs:{id:"query-options"}},[a("span",{staticClass:"control-label"},[t._v("Endpoints to query")]),t._l(t.options,(function(e){return a("b-form-checkbox",{key:e.title,staticClass:"btn",attrs:{button:""},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"option.checked"}},[t._v(" "+t._s(e.title)+" ")])}))],2),a("b-card",{attrs:{id:"frequency-slider"}},[a("span",{staticClass:"control-label"},[t._v("Individual request frequency")]),a("b-form-input",{attrs:{type:"range",min:t.minRequestsPerThrottleWindow,max:t.maxRequestsPerThrottleWindow},model:{value:t.requestsPerThrottleWindow,callback:function(e){t.requestsPerThrottleWindow=e},expression:"requestsPerThrottleWindow"}}),a("div",{staticClass:"d-block"},[a("h2",{staticStyle:{display:"inline"}},[t._v(t._s(t.requestsPerThrottleWindow+" "))]),a("span",{staticClass:"control-detail"},[t._v(" per "+t._s(parseInt(t.throttleWindow/1e3))+" s")])]),a("span",{staticClass:"control-detail"},[t._v(t._s("["+parseFloat(t.requestInterval/1e3).toFixed(2))+" s break between requests]")])],1)],1)],1)},T=[],S=(a("4de4"),a("caad"),a("d81d"),a("13d5"),a("a9e3"),a("d3b7"),a("07ac"),a("2532"),a("b85c")),A=(a("96cf"),a("1da1")),P=a("5530"),E=a("bc3a"),L={name:"RateLimitTester",props:{endpoints:Array},data:function(){return{paused:!1,breakCountdown:Number,testPeriod:2e4,testStartedAt:Number,testChronoProgress:0,breakLength:7e3,throttleWindow:5e3,requestsPerThrottleWindow:6,minRequestsPerThrottleWindow:1,maxRequestsPerThrottleWindow:10,options:this.endpoints.reduce((function(t,e){var a=Object(P["a"])({},e);return"/poi"==e.uri||"/events/hourly"==e.uri||"/stats/daily"==e.uri?a.checked=!0:a.checked=!1,t.push(a),t}),[]),activityRecords:this.initializeActivityRecords()}},computed:{testSecondsRemaining:function(){var t=parseInt(this.testPeriod*(1-.01*this.testChronoProgress)/1e3);return t<10&&(t="0"+t),t="00:"+t+" remaining",t},testResults:function(){for(var t=this,e="Within a period of "+parseInt(this.testPeriod/1e3)+" seconds:\n\n",a=["reqCount","resCount","successes","rejections","globalRejections"],n=a.reduce((function(t,e){return t[e]="",t}),{}),r=function(e){n[a[e]]=Object.values(t.activityRecords).map((function(t){return t[a[e]]})).reduce((function(t,e){return t+e}))},s=0;s<a.length;s++)r(s);return e+="- "+n["reqCount"]+" requests, "+n["resCount"]+" responses\n",e+="- "+n["successes"]+" accepted, "+parseInt(n["rejections"]+n["globalRejections"])+" rejected\n",e+="- "+n["rejections"]+" rejected due to per-endpoint rate limit\n",e+="- "+n["globalRejections"]+" rejected due to overall rate limit",e},requestInterval:function(){return parseInt(this.throttleWindow/this.requestsPerThrottleWindow)},selectedEndpoints:function(){return this.options.filter((function(t){return t.checked}))},totalRequestsPerTestPeriod:function(){return parseInt(this.testPeriod/this.throttleWindow*this.requestsPerThrottleWindow*this.selectedEndpoints.length)},intensityValue:function(){var t=this.testPeriod/this.throttleWindow*this.maxRequestsPerThrottleWindow*this.options.length;return 100*this.totalRequestsPerTestPeriod/t},intensityClass:function(){return this.intensityValue>80?"high":this.intensityValue>60?"medium-high":this.intensityValue>40?"medium":this.intensityValue>20?"medium-light":"light"}},mounted:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:setInterval(t.updateTime.bind(t),1e3),a=!0;case 2:setTimeout((function(){a=!1}),t.testPeriod),t.testStartedAt=Date.now();case 4:if(!a){e.next=10;break}for(n in t.selectedEndpoints)r=t.selectedEndpoints[n].uri,t.makeRequest(r);return e.next=8,t.sleep(t.requestInterval);case 8:e.next=4;break;case 10:if(!(t.selectedEndpoints.length>0)){e.next=13;break}return e.next=13,t.pause();case 13:t.resetActivityRecords(),a=!0;case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e)})))()},methods:{initializeActivityRecords:function(){var t,e={},a=Object(S["a"])(this.endpoints.map((function(t){return t.uri})));try{for(a.s();!(t=a.n()).done;){var n=t.value;e[n]={reqCount:0,resCount:0,successes:0,rejections:0,globalRejections:0,otherCount:0}}}catch(r){a.e(r)}finally{a.f()}return e},makeRequest:function(t){var e=this.activityRecords[t];e.reqCount++,E.get(t+"?limit=1").then((function(t){e.resCount++,200==t.status&&e.successes++})).catch((function(t){e.resCount++,t.response.data.includes("Overall")?e.rejections++:t.response.data.includes("endpoint")?e.globalRejections++:e.otherCount++}))},resetActivityRecords:function(){for(var t in this.activityRecords)this.activityRecords[t]={reqCount:0,resCount:0,successes:0,rejections:0,globalRejections:0,otherCount:0}},pause:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.paused=!0,a=!0,setTimeout((function(){a=!1}),t.breakLength),t.breakCountdown=parseInt(t.breakLength/1e3);case 4:if(!a){e.next=10;break}return t.breakCountdown--,e.next=8,t.sleep(1e3);case 8:e.next=4;break;case 10:t.paused=!1;case 11:case"end":return e.stop()}}),e)})))()},sleep:function(t){return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}}),e)})))()},updateTime:function(){var t=Date.now();this.paused||(this.testChronoProgress=100*(t-this.testStartedAt)/this.testPeriod)},successString:function(t){return t.reqCount>0?t.resCount>0?t.successes+" ("+parseInt(100*t.successes/t.reqCount)+"%)":"0":null},rejectionString:function(t){return t.reqCount>0?t.resCount>0?t.rejections+" ("+parseInt(100*t.rejections/t.reqCount)+"%)":"0":null},globalRejectionString:function(t){return t.reqCount>0?t.resCount>0?t.globalRejections+" ("+parseInt(100*t.globalRejections/t.reqCount)+"%)":"0":null}}},z=L,I=(a("4118"),Object(f["a"])(z,R,T,!1,null,null,null)),q=I.exports,D=a("6a3c"),M={name:"RateLimitTestingPage",data:function(){return{endpoints:D["endpoints"]}},components:{RateLimitTester:q}},N=M,F=(a("4b5b"),Object(f["a"])(N,w,O,!1,null,null,null)),K=F.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ChartArea",{attrs:{endpoints:t.endpoints}})],1)},W=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padded"},[a("b-row",{staticClass:"d-flex align-items-center padded",attrs:{id:"charts-module-header"}},[a("p",[t._v("Here you can compare as many different charts as you'd like. Try out the different toggles on each chart, or enabling and disabling an individual dataset by clicking on its label.")])]),a("div",{attrs:{id:"charts-module"}},[a("div",{attrs:{id:"collapse-container"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse",modifiers:{collapse:!0}}],attrs:{id:"collapse-button"}},[t.collapseVisible?a("b-icon-arrow-down",{attrs:{"aria-hidden":"true"}}):a("b-icon-plus-circle",{attrs:{"aria-hidden":"true"}})],1),a("b-collapse",{attrs:{visible:"",id:"collapse"},model:{value:t.collapseVisible,callback:function(e){t.collapseVisible=e},expression:"collapseVisible"}},[a("div",{attrs:{id:"collapse-content"}},[a("p",[t._v(t._s(t.charts.length?"Create another chart to compare with.":"Select an endpoint to begin."))]),t._l(t.endpoints,(function(e){return a("b-button",{key:e.title,staticClass:"m-1 btn",attrs:{variant:"primary"},on:{click:function(a){return t.addChart(e)}}},[t._v(" "+t._s(e.title)+" ")])}))],2)])],1),t._l(t.charts,(function(e){return a("ChartCard",{key:e.id,staticClass:"chart-card",attrs:{endpoint:e.endpoint},on:{close:function(a){return t.deleteChart(e.id)}}})})),t.charts.length?t._e():a("ChartCard",{staticClass:"chart-card dummy",attrs:{endpoint:t.endpoints[0]}})],2)],1)},Y=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"outerContainer",staticClass:"chart-outer-container"},[a("div",{ref:"chartContainer",staticClass:"chart-container"},[a("b-row",{staticClass:"chart-header"},[a("b-col",[a("span",{staticClass:"chart-title"},[t._v(t._s(t.endpoint.title))]),a("span",{staticClass:"monospace chart-subtitle"},[t._v(t._s(t.endpoint.uri))]),t.endpoint.description?a("span",{staticClass:"chart-description"},[t._v(t._s(t.endpoint.description))]):t._e()]),a("b-col",{staticClass:"d-flex justify-content-end align-items-center"},[t.dataKeys.length>1?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"tooltip-button",attrs:{title:t.absolute?"Relative Scale":"Absolute Scale"}},[a("b-icon-graph-up",{staticClass:"grid-button",on:{click:t.toggleAbsolute}})],1):t._e(),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"tooltip-button",attrs:{title:"Toggle Grid"}},[a("b-icon-grid",{staticClass:"grid-button",on:{click:t.toggleGrid}})],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"tooltip-button",attrs:{title:"Close"}},[a("b-icon-x-circle",{staticClass:"close-button",on:{click:function(e){return t.$emit("close")}}})],1)],1)],1),"line"==t.endpoint.chartType?a("LineChart",{ref:"chart"}):"bar"==t.endpoint.chartType?a("BarChart",{ref:"chart"}):t._e()],1)])},B=[],V=(a("4160"),a("fb6a"),a("a434"),a("4fad"),a("25f0"),a("3ca3"),a("159b"),a("ddb0"),a("3835")),U=(a("7db0"),a("6062"),a("ade3")),Q=a("c1df"),Z={name:"dataOperations",methods:{groupData:function(t,e,a){var n,r=this,s=[],i=new Set,o=Object(S["a"])(a);try{var c=function(){var a=n.value,o=void 0,c=a[t];i.has(c)?o=s.find((function(e){return e[t]==c})):(i.add(c),o=Object(U["a"])({},t,c),s.push(o));var l,u=Object(S["a"])(e.filter((function(t){return!r.endpoint.exclude.includes(t)})));try{for(u.s();!(l=u.n()).done;){var d=l.value;o[d]=o[d]?o[d]+parseFloat(a[d]):parseFloat(a[d])}}catch(p){u.e(p)}finally{u.f()}};for(o.s();!(n=o.n()).done;)c()}catch(l){o.e(l)}finally{o.f()}return s},groupDataForMap:function(t,e,a){var n,r=[],s=Object(S["a"])(e);try{for(s.s();!(n=s.n()).done;){var i=n.value,o=i[t];r[o]?r[o]+=parseFloat(i[a]):r[o]=parseFloat(i[a])}}catch(c){s.e(c)}finally{s.f()}return r},parse:function(t,e){var a=this.endpoint.xAxis.config.time.parser,n=this.endpoint.xAxis.config.time.displayFormats[t];return Q(e,a).format(n)}}},J=a("1fca"),X={extends:J["b"]},tt=X,et=Object(f["a"])(tt,s,i,!1,null,null,null),at=et.exports,nt={extends:J["a"]},rt=nt,st=Object(f["a"])(rt,o,c,!1,null,null,null),it=st.exports,ot=a("9607"),ct=a.n(ot),lt=a("bc3a"),ut=a("30ef"),dt=ut.Chart,pt={name:"ChartCard",components:{LineChart:at,BarChart:it},props:{endpoint:Object},mixins:[Z],data:function(){return{dataSource:Object,dataKeys:[],chartColors:Object.values(ct.a).splice(0,5),absolute:!1,grid:!1}},mounted:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lt.get(this.endpoint.uri).then((function(t){return t.data}));case 2:this.dataSource=t.sent,Object.entries(this.dataSource[0]).forEach(function(t){var e=Object(V["a"])(t,2),a=e[0],n=e[1];a===this.endpoint.xAxis.key||isNaN(n)||this.dataKeys.push(a)}.bind(this)),this.dataSource.sort((function(t,a){return parseFloat(t[e.endpoint.xAxis.key])-parseFloat(a[e.endpoint.xAxis.key])})),dt.defaults.global.defaultColor=ct.a.darkColor,dt.defaults.scale.gridLines.color="transparent",this.draw();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{toggleGrid:function(){this.grid=!this.grid,dt.defaults.global.animation.duration=0,dt.defaults.scale.gridLines.color=this.grid?ct.a.mediumGreyColor:"transparent",this.draw()},toggleAbsolute:function(){this.absolute=!this.absolute,this.draw()},draw:function(){var t=this,e=regeneratorRuntime.mark(r),a={labels:[],datasets:[]},n={legend:{position:"top",align:"start"},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[this.endpoint.xAxis.config],yAxes:[]},elements:{point:{}}};function r(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.delegateYield(t,"t0",1);case 1:case"end":return e.stop()}}),e)}var s=r(this.chartColors);this.endpoint.xAxis.group&&(this.dataSource=this.groupData(this.endpoint.xAxis.key,this.dataKeys,this.dataSource)),a.labels=this.dataSource.map((function(e){return e[t.endpoint.xAxis.key].toString()})),this.absolute?this.drawAbsolute(a,n,s):this.drawRelative(a,n,s)},drawAbsolute:function(t,e,a){this.dataKeys.forEach(function(e){var n=e.charAt(0).toUpperCase()+e.slice(1);t.datasets.push({label:n,backgroundColor:a.next().value,data:this.dataSource.map((function(t){return t[e]}))})}.bind(this)),this.$refs.chart.renderChart(t,e)},drawRelative:function(t,e,a){this.dataKeys.forEach(function(n){var r=n.charAt(0).toUpperCase()+n.slice(1),s=a.next().value;e.scales.yAxes.push({id:r,type:"linear",position:"left",ticks:{max:Math.max.apply(Math,this.dataSource.map((function(t){return t[n]}))),min:Math.min.apply(Math,this.dataSource.map((function(t){return t[n]}))),fontColor:s}}),t.datasets.push({label:r,backgroundColor:s,data:this.dataSource.map((function(t){return t[n]})),yAxisID:r})}.bind(this)),this.$refs.chart.renderChart(t,e)}}},ft=pt,bt=(a("b08c"),Object(f["a"])(ft,H,B,!1,null,null,null)),ht=bt.exports,mt={name:"ChartArea",components:{ChartCard:ht},props:{endpoints:Array},data:function(){return{collapseVisible:!0,charts:[],idCount:0,tests:!1,active:this.endpoints[0],refresh:!1}},methods:{addChart:function(t){this.charts.unshift({endpoint:t,id:++this.idCount}),this.collapseVisible=!1},deleteChart:function(t){this.charts=this.charts.filter((function(e){return e.id!==t}))}}},vt=mt,yt=(a("40b9"),Object(f["a"])(vt,$,Y,!1,null,"31c4f40c",null)),gt=yt.exports,Ct={name:"ChartsPage",data:function(){return{endpoints:D["endpoints"]}},components:{ChartArea:gt}},jt=Ct,_t=Object(f["a"])(jt,G,W,!1,null,null,null),xt=_t.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"d-flex align-items-center padded",attrs:{id:"module-header"}},[a("p",[t._v("View API data in table form -- add and delete as many tables as you'd like. On the left you'll find a global search bar that queries rows from all active tables.")])]),a("DataTableArea",{attrs:{id:"data-table-area",endpoints:t.endpoints}})],1)},wt=[],Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padded",attrs:{id:"data-table-outer-container"}},[a("b-col",{attrs:{sm:"6",id:"sidebar"}},[t.tables.length?a("div",{attrs:{id:"search-container"}},[t.searchFocus?a("b-icon-three-dots",{staticClass:"icon",attrs:{animation:"cylon"}}):a("b-icon-search",{staticClass:"icon"}),a("input",{ref:"searchBox",on:{input:t.setSearchString,focus:function(e){return t.toggleSearchFocus(!0)},blur:function(e){return t.toggleSearchFocus(!1)}}})],1):t._e(),t._l(t.fuzzyChildTables,(function(e){return a("FuzzyChildTable",{key:e.title,attrs:{id:e.id,title:e.title,columns:e.columns,rows:e.rows,searchString:t.searchString}})}))],2),a("div",{attrs:{id:"tables-module",sm:"6"}},[a("div",{attrs:{id:"endpoint-select-container"}},[a("div",{attrs:{id:"endpoint-select-content"}},[a("p",[t._v(t._s(t.tables.length?"Create another table to compare with.":"Select an endpoint to begin."))]),t._l(t.endpoints,(function(e){return a("b-button",{key:e.title,staticClass:"m-1 btn",attrs:{variant:"primary"},on:{click:function(a){return t.addTable(e)}}},[t._v(" "+t._s(e.title)+" ")])}))],2)]),a("div",{attrs:{id:"content-container"}},[t._l(t.tables,(function(e){return a("DataTable",{key:e.id,ref:"table"+e.id,refInFor:!0,staticClass:"table-card",attrs:{endpoint:e.endpoint,id:e.id},on:{loaded:t.addToFuzzyTable,close:function(a){return t.deleteTable(e.id)}}})})),t.tables.length?t._e():a("DataTable",{staticClass:"table-card dummy",attrs:{endpoint:t.endpoints[0]}})],2)])],1)},Rt=[],Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"outer-container"}},[a("div",{attrs:{id:"right-column",cols:"9"}},[a("b-row",{staticClass:"table-header"},[a("b-col",{attrs:{cols:"8"}},[a("span",[t._v(t._s(t.endpoint.title))]),a("span",{staticClass:"monospace table-subtitle"},[t._v(t._s(t.endpoint.uri))]),t.endpoint.description?a("span",{staticClass:"table-description"},[t._v(t._s(t.endpoint.description))]):t._e()]),a("b-col",{staticClass:"d-flex justify-content-end align-items-center"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"tooltip-button",attrs:{title:"Refresh table data"},on:{click:t.init}},[a("b-icon-refresh",{staticClass:"icon-button"})],1),a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"tooltip-button",attrs:{title:"Close"}},[a("b-icon-x-circle",{staticClass:"close-button",on:{click:function(e){return t.$emit("close")}}})],1)],1)],1),a("b-card",{staticClass:"d-flex justify-content-center align-items-center",attrs:{id:"table-container"}},[a("b-table-simple",{staticClass:"monospace",attrs:{fixed:"",small:"",striped:"",hover:"",id:"response-table"}},[a("b-thead",[a("b-tr",{attrs:{id:"table-header"}},[a("b-th",[t._v(" "+t._s(t.domainKey)+" ")]),t._l(t.dataKeys,(function(e){return a("b-th",{key:e},[t._v(" "+t._s(e)+" ")])}))],2)],1),a("b-tbody",t._l(t.dataSource,(function(e,n){return a("b-tr",{key:n},[a("b-th",[t._v(t._s(t.parse(t.domainKey,e[t.domainKey])))]),t._l(t.dataKeys,(function(n){return a("b-td",{key:n},[t._v(" "+t._s(e[n])+" ")])}))],2)})),1)],1)],1)],1)])},St=[],At=(a("99af"),a("b64b"),a("bc3a")),Pt={name:"DataTable",props:{endpoint:Object,id:Number},components:{},mixins:[Z],data:function(){return{dataSource:Object,dataKeys:[],domainKey:String,rows:Array}},methods:{init:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataSource={},t.dataKeys=[],t.domainKey="",t.rows=[],e.next=6,At.get(t.endpoint.uri).then((function(t){return t.data}));case 6:t.dataSource=e.sent,Object.keys(t.dataSource[0]).forEach(function(t){t===this.endpoint.xAxis.key||this.endpoint.exclude.includes(t)?this.domainKey=t:this.dataKeys.push(t)}.bind(t)),t.dataSource.sort((function(e,a){return parseFloat(e[t.endpoint.xAxis.key])-parseFloat(a[t.endpoint.xAxis.key])})),t.endpoint.xAxis.group&&(t.dataSource=t.groupData(t.endpoint.xAxis.key,t.dataKeys,t.dataSource));case 10:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:t.rows=t.dataSource.reduce((function(e,a){var n=Object.values(a).map((function(t){return t.toString()}));return e.push([t.parse(t.domainKey,n.shift()).toString()].concat(n)),e}),[]),t.$emit("loaded",{title:t.endpoint.title,rows:t.rows,columns:[t.domainKey].concat(t.dataKeys),id:t.id});case 4:case"end":return e.stop()}}),e)})))()}},Et=Pt,Lt=(a("4841"),Object(f["a"])(Et,Tt,St,!1,null,"1a8bd921",null)),zt=Lt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.matchingRows.length?a("div",{staticClass:"label"},[t._v(" "+t._s(t.title)+" ")]):t._e(),a("b-table-simple",{staticClass:"fuzzy-results"},[t.matchingRows.length?a("b-thead",t._l(t.columns,(function(e){return a("th",{key:e},[t._v(" "+t._s(e)+" ")])})),0):t._e(),a("b-tbody",t._l(t.matchingRows,(function(e){return a("tr",{key:e[0]},[a("th",[t._v(" "+t._s(e[0])+" ")]),t._l(e.slice(1),(function(e){return a("td",{key:e},[t._v(" "+t._s(e)+" ")])}))],2)})),0)],1)],1)},qt=[],Dt=(a("45fc"),{props:{searchString:String,title:String,rows:Array,columns:Array},computed:{matchingRows:function(){var t=this,e=[];if(this.searchString.length)try{var a,n=Object(S["a"])(this.rows);try{for(n.s();!(a=n.n()).done;){var r=a.value;r.some((function(e){return e.includes(t.searchString)||e.toUpperCase().includes(t.searchString.toUpperCase())}))&&e.push(r)}}catch(s){n.e(s)}finally{n.f()}}catch(i){return console.log(i.message),[]}return e}}}),Mt=Dt,Nt=(a("d32b"),Object(f["a"])(Mt,It,qt,!1,null,"0ebe8896",null)),Ft=Nt.exports,Kt={components:{DataTable:zt,FuzzyChildTable:Ft},props:{endpoints:Array},data:function(){return{tables:[],fuzzyTable:[],idCount:0,searchFocus:!1,searchString:"",fuzzyChildTables:[],showFuzzy:!1}},methods:{setSearchString:function(){this.searchString=this.$refs.searchBox.value},addToFuzzyTable:function(t){this.fuzzyChildTables.map((function(t){return t.title})).includes(t.title)||this.fuzzyChildTables.push(t)},toggleSearchFocus:function(t){this.searchFocus=t},addTable:function(t){this.tables.unshift({endpoint:t,id:++this.idCount})},deleteTable:function(t){this.fuzzyChildTables=this.fuzzyChildTables.filter((function(e){return e.id!==t})),this.tables=this.tables.filter((function(e){return e.id!==t}))}}},Gt=Kt,Wt=(a("b186"),Object(f["a"])(Gt,Ot,Rt,!1,null,"72859531",null)),$t=Wt.exports,Yt={name:"TablePage",data:function(){return{endpoints:D["endpoints"]}},components:{DataTableArea:$t}},Ht=Yt,Bt=(a("b58d"),Object(f["a"])(Ht,kt,wt,!1,null,"6cc68fd0",null)),Vt=Bt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page"}},[a("Geo",{staticClass:"padded module",attrs:{endpoints:t.endpoints}})],1)},Qt=[],Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padded",attrs:{id:"geo-outer-container"}},[a("div",{staticClass:"w-100 row"},[a("b-col",{attrs:{sm:"3",id:"control-box"}},[a("b-card",{attrs:{id:"query-options"}},[a("span",{staticClass:"control-label"},[t._v("Select a dataset to visualize")]),t.loading?a("div",{attrs:{id:"blocker"}}):t._e(),t._l(t.endpoints,(function(e){return a("span",{key:e.title},[a("b-form-checkbox",{staticClass:"btn",attrs:{value:e,button:""},model:{value:t.endpoint,callback:function(e){t.endpoint=e},expression:"endpoint"}},[t._v(" "+t._s(e.title)+" ")]),t.endpoint==e&&t.showMetrics&&e.map.metrics.length>1?a("span",{staticClass:"metrics"},[a("b-form-radio-group",t._l(e.map.metrics,(function(e,n){return a("b-form-radio",{key:n,ref:"metricRadio",refInFor:!0,staticClass:"btn monospace",attrs:{value:n},model:{value:t.metricIndex,callback:function(e){t.metricIndex=e},expression:"metricIndex"}},[t._v(" "+t._s(e.toUpperCase()||"")+" ")])})),1)],1):t._e()],1)}))],2),t.loading?a("div",{staticClass:"spinner-splash d-flex justify-content-center align-items-center"},[a("div",{staticClass:"spinner-inner-container text-light"},[a("b-spinner"),a("span",{staticClass:"break-here"}),a("p",{staticClass:"lead"},[t._v("LOADING")])],1)]):a("b-card",{attrs:{id:"frequency-slider"}},[a("span",{staticClass:"monospace control-label"},[t._v(t._s(t.domain.key.toUpperCase()||""))]),a("b-form-input",{attrs:{type:"range",min:t.domain.min,max:t.domain.max},model:{value:t.domain.currentIndex,callback:function(e){t.$set(t.domain,"currentIndex",e)},expression:"domain.currentIndex"}}),a("span",[t._v(t._s(t.parse(t.domain.key,t.domain.arr[t.domain.currentIndex])))])],1)],1),a("b-col",{attrs:{sm:"9",id:"map-container"}},[t.loading?t._e():a("PoiMap",{key:t.domain.arr[t.domain.currentIndex],staticClass:"map",attrs:{pois:t.activePois}})],1)],1)])},Jt=[],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GoogleMapLoader",{attrs:{mapConfig:t.mapConfig,apiKey:"AIzaSyC5n1w_QbIWwUZkBgD6fVVvyN9gEDkaFAQ"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.google,r=e.map;return t._l(t.markers,(function(t){return a("GoogleMapMarker",{key:t.id,attrs:{marker:t,google:n,map:r}})}))}}])})},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"googleMap",staticClass:"google-map"}),Boolean(this.google)&&Boolean(this.map)?[t._t("default",null,{google:t.google,map:t.map})]:t._e()],2)},ae=[],ne=a("f464"),re=a.n(ne),se={props:{mapConfig:Object,apiKey:String},data:function(){return{google:null,map:null}},mounted:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,re()({apiKey:t.apiKey});case 2:a=e.sent,t.google=a,t.initializeMap();case 5:case"end":return e.stop()}}),e)})))()},methods:{initializeMap:function(){var t=this.$refs.googleMap;this.map=new this.google.maps.Map(t,this.mapConfig)}}},ie=se,oe=(a("50fe"),Object(f["a"])(ie,ee,ae,!1,null,"005e59f2",null)),ce=oe.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},ue=[],de={props:{google:{type:Object,required:!0},map:{type:Object,required:!0},marker:{type:Object,required:!0}},mounted:function(){var t=this.google.maps.Marker;new t({position:this.marker.position,marker:this.marker,map:this.map,icon:{path:"M 0, 0 m -5, 0 a 5,5 0 1,0 10,0 a 5,5 0 1,0 -10,0",fillColor:ct.a.tertiaryColor,strokeWeight:0,fillOpacity:1,scale:this.marker.intensity<.5?3:10*this.marker.intensity},label:parseInt(this.marker.value).toString()||this.marker.value.toString()||""})}},pe=de,fe=Object(f["a"])(pe,le,ue,!1,null,null,null),be=fe.exports,he=a("9607"),me={COLOR_POINT:"rgb(243,114,114)",COLOR_POINT_FILL:"rgb(255,255,255)",COLOR_LANDSCAPE:he.primaryColor,COLOR_BORDERS:"rgb(195,230,255)",COLOR_LINE:"rgb(255,255,255)",COLOR_SELECTED_POINT:"rgb(0,184,83)",COLOR_BROWN:"rgb(139,69,19)",COLOR_BLACK:"rgb(0,0,0)",COLOR_BLUE:"rgb(77,109,155)",COLOR_LIGHT_BLUE:"rgb(124,156,201)",COLOR_WHITE:"rgb(255,255,255)",COLOR_WHITEY:"rgb(240,240,240)",COLOR_GREEN:"rgb(0,155,77)",COLOR_TOMATO:"rgb(243,114,114)"},ve=me.COLOR_LANDSCAPE,ye=me.COLOR_BORDERS,ge=me.COLOR_WATER,Ce=me.COLOR_LINE,je=me.COLOR_POINT_FILL,_e=me.COLOR_SELECTED_POINT,xe={BORDERS:ye,LANDSCAPE:ve,LINE:Ce,POINT:_e,POINT_FILL:je,WATER:ge},ke=(xe.POINT,xe.POINT_FILL,{path:"M 0,-2 0,2",strokeOpacity:1,strokeWeight:2,scale:1}),we=(xe.LINE,{clickableIcons:!1,streetViewControl:!1,panControlOptions:!1,gestureHandling:"cooperative",backgroundColor:xe.LANDSCAPE,mapTypeControl:!1,zoomControlOptions:{style:"SMALL"},zoom:4,minZoom:2,maxZoom:8,styles:[{featureType:"landscape",stylers:[{hue:xe.LANDSCAPE},{saturation:50.2},{lightness:-34.8},{gamma:1}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road.highway",stylers:[{hue:xe.LANDSCAPE},{saturation:-19.8},{lightness:-1.8},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:xe.LANDSCAPE},{saturation:72.4},{lightness:-32.6},{gamma:1}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",stylers:[{visibility:"off"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:xe.BORDERS}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{hue:xe.WATER},{saturation:-63.2},{lightness:38},{gamma:1}]}]}),Oe=a("8c84"),Re={components:{GoogleMapLoader:ce,GoogleMapMarker:be},props:{pois:{type:Array,default:function(){return[]}}},data:function(){return{}},mounted:function(){},computed:{dataKey:function(){return Object.keys(this.pois[0])[1]},max:function(){var t,e=this.pois[0][this.dataKey],a=Object(S["a"])(this.pois);try{for(a.s();!(t=a.n()).done;){var n=t.value;n[this.dataKey]>e&&(e=n[this.dataKey])}}catch(r){a.e(r)}finally{a.f()}return e},min:function(){var t,e=this.pois[0][this.dataKey],a=Object(S["a"])(this.pois);try{for(a.s();!(t=a.n()).done;){var n=t.value;n[this.dataKey]<e&&(e=n[this.dataKey])}}catch(r){a.e(r)}finally{a.f()}return e},markers:function(){var t=this;return this.pois.map((function(e){return{position:{lat:e.poi.lat,lng:e.poi.lon},intensity:parseFloat((e[t.dataKey]-t.min)/t.max),value:e[t.dataKey]}}))},mapConfig:function(){return Object(P["a"])(Object(P["a"])({},we),{},{center:this.mapCenter})},mapCenter:function(){var t=Object(Oe["getCenterOfBounds"])(this.pois.reduce((function(t,e){return t.push({latitude:e.poi.lat,longitude:e.poi.lon}),t}),[]));return{lat:t.latitude,lng:t.longitude}}}},Te=Re,Se=(a("93c0"),Object(f["a"])(Te,Xt,te,!1,null,null,null)),Ae=Se.exports,Pe=a("bc3a"),Ee={components:{PoiMap:Ae},mixins:[Z],props:{endpoints:Array},data:function(){return{endpoint:Object,metric:Object,metricIndex:0,pois:Array,poiIds:Array,dataSources:[],summedData:[],domain:{arr:Array,currentIndex:0,key:String,value:Object,min:Number,max:Number},ready:!1,loading:!0}},mounted:function(){this.endpoint=this.endpoints[2],this.createMap()},watch:{metricIndex:function(){this.createMap()},endpoint:function(){this.metricIndex=0,this.createMap()}},computed:{showMetrics:function(){return this.endpoint.map.metrics.length>1},activePois:function(){var t=[];for(var e in console.log(this.metricIndex),this.pois)if(this.summedData[e]){var a=this.endpoint.map.metrics[this.metricIndex],n=this.summedData[e][this.domain.arr[this.domain.currentIndex]];n&&t.push(Object(U["a"])({poi:this.pois[e]},a,n))}return t}},methods:{createMap:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.getPois();case 3:t.pois=e.sent,t.poiIds=t.pois.map((function(t){return t.poi_id})),t.summedData=[],e.t0=regeneratorRuntime.keys(t.poiIds);case 7:if((e.t1=e.t0()).done){e.next=15;break}return a=e.t1.value,e.next=11,t.request(parseInt(a)+1);case 11:t.dataSources[a]=e.sent,t.summedData.push(t.groupDataForMap(t.endpoint.map.domain,t.dataSources[a],t.endpoint.map.metrics[t.metricIndex])),e.next=7;break;case 15:t.domain.key=t.endpoint.map.domain,t.domain.arr=Object.keys(t.summedData[0]),t.domain.min=Object.keys(t.summedData)[0][0],t.domain.max=Object.keys(t.summedData[0])[Object.keys(t.summedData[0]).length-1],t.loading=!1;case 20:case"end":return e.stop()}}),e)})))()},getPois:function(){return Object(A["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pe.get("/poi").then((function(t){return t.data}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()},request:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Pe.get(e.endpoint.uri+"/"+t).then((function(t){return t.data}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}}},Le=Ee,ze=(a("f4a4"),Object(f["a"])(Le,Zt,Jt,!1,null,"1b7e31cf",null)),Ie=ze.exports,qe={name:"GeoPage",data:function(){return{endpoints:D["endpoints"]}},props:{},components:{Geo:Ie}},De=qe,Me=(a("fe84"),Object(f["a"])(De,Ut,Qt,!1,null,null,null)),Ne=Me.exports;n["default"].use(y["a"]);var Fe=[{path:"/",name:"Home",component:k,meta:{title:"🏠 Home [ws-product-node-js]"}},{path:"/rate-limit-test",name:"RateLimit",component:K,meta:{title:"🌐 Rate Limit Tester [ws-product-node-js]"}},{path:"/charts",name:"ChartsPage",component:xt,meta:{title:"📈 Data Charts [ws-product-node-js]"}},{path:"/table",name:"TablePage",component:Vt,meta:{title:"🗃️ Data Tables [ws-product-node-js]"}},{path:"/geo",name:"GeoPage",component:Ne,meta:{title:"🌎 Geo Visualization [ws-product-node-js]"}}],Ke=new y["a"]({routes:Fe,mode:"history"}),Ge=Ke,We=a("7386");n["default"].component("b-icon-plus-circle",We["t"]),n["default"].component("b-icon-x-circle",We["A"]),n["default"].component("b-icon-three-dots",We["y"]),n["default"].component("b-icon-arrow-down",We["b"]),n["default"].component("b-icon-grid",We["q"]),n["default"].component("b-icon-graph-up",We["p"]),n["default"].component("b-icon-envelope",We["o"]),n["default"].component("b-icon-refresh",We["a"]),n["default"].component("b-icon-search",We["u"]),Ge.beforeEach((function(t,e,a){document.title=t.meta.title||"ws-product-node-js",a()})),n["default"].config.productionTip=!1,v.a.defaults.baseURL="https://api.kylegrimsrudma.nz",n["default"].mixin({methods:{toast:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={title:t,toaster:"b-toaster-bottom-right",noAutoHide:!a};!a&&(n.id=t),this.$bvToast.toast(e,n)}}}),new n["default"]({router:Ge,render:function(t){return t(h)}}).$mount("#app")},"56f9":function(t,e,a){},"5c0b":function(t,e,a){"use strict";a("9c0c")},"6a3c":function(t,e){t.exports={endpoints:[{title:"Hourly Events",description:"Total events per hour over all dates",uri:"/events/hourly",chartType:"bar",exclude:["date"],map:{domain:"hour",metrics:["events"]},xAxis:{key:"hour",group:!0,config:{type:"time",time:{unit:"hour",displayFormats:{hour:"hA"},parser:"HH"}}}},{title:"Daily Events",uri:"/events/daily",description:"",chartType:"line",exclude:[],map:{domain:"date",metrics:["events"]},xAxis:{key:"date",group:!1,config:{type:"time",time:{unit:"day",displayFormats:{day:"MMM D, YYYY",date:"MMM DD, YYYY"},parser:"YYYY-MM-DDTHH:mm:ss.SSS"}}}},{title:"Hourly Statistics",description:"Total hourly statistics over all dates",uri:"/stats/hourly",chartType:"bar",exclude:["date"],map:{domain:"hour",metrics:["impressions","clicks","revenue"]},xAxis:{key:"hour",group:!0,config:{type:"time",time:{unit:"hour",displayFormats:{hour:"hA"},parser:"HH"}}}},{title:"Daily Statistics",description:"",uri:"/stats/daily",chartType:"line",exclude:[],map:{domain:"date",metrics:["impressions","clicks","revenue"]},xAxis:{key:"date",group:!1,config:{type:"time",time:{unit:"day",displayFormats:{day:"MMM D, YYYY",date:"MMM DD, YYYY"},parser:"YYYY-MM-DDTHH:mm:ss.SSS"}}}}]}},"93c0":function(t,e,a){"use strict";a("4a2c")},9607:function(t,e,a){t.exports={primaryColor:"#3d5aff",secondaryColor:"#6a7fdb",tertiaryColor:"#57e2e5",quaternaryColor:"#45cb85",quinaryColor:"#16302b",dangerColor:"#ff2600",lightColor:"#f3f3f3",darkColor:"#353232",greyColor:"#afafaf",lightGreyColor:"#eee",mediumGreyColor:"#d4d4d4",darkGreyColor:"#6e6e6e",infoColor:"#3f88c5",positiveColor:"#79ca43",insaneColor:"#2e282a"}},"9c0c":function(t,e,a){t.exports={primaryColor:"#3d5aff",secondaryColor:"#6a7fdb",tertiaryColor:"#57e2e5",quaternaryColor:"#45cb85",quinaryColor:"#16302b",dangerColor:"#ff2600",lightColor:"#f3f3f3",darkColor:"#353232",greyColor:"#afafaf",lightGreyColor:"#eee",mediumGreyColor:"#d4d4d4",darkGreyColor:"#6e6e6e",infoColor:"#3f88c5",positiveColor:"#79ca43",insaneColor:"#2e282a"}},a6b5:function(t,e,a){},b08c:function(t,e,a){"use strict";a("d0c0")},b186:function(t,e,a){"use strict";a("a6b5")},b58d:function(t,e,a){"use strict";a("0392")},b86e:function(t,e,a){},c68e:function(t,e,a){t.exports=a.p+"img/eqworks.0c4cfb13.svg"},d0c0:function(t,e,a){t.exports={primaryColor:"#3d5aff",secondaryColor:"#6a7fdb",tertiaryColor:"#57e2e5",quaternaryColor:"#45cb85",quinaryColor:"#16302b",dangerColor:"#ff2600",lightColor:"#f3f3f3",darkColor:"#353232",greyColor:"#afafaf",lightGreyColor:"#eee",mediumGreyColor:"#d4d4d4",darkGreyColor:"#6e6e6e",infoColor:"#3f88c5",positiveColor:"#79ca43",insaneColor:"#2e282a"}},d32b:function(t,e,a){"use strict";a("b86e")},ef51:function(t,e,a){},f4a4:function(t,e,a){"use strict";a("1ae5")},fe84:function(t,e,a){"use strict";a("56f9")}});
//# sourceMappingURL=app.b2b59ea0.js.map